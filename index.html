<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AigroQuantumSaaS</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"/>
  <style>
    :root {
      --primary: #00b4d8; --secondary: #0f1a2c; --accent: #7c3aed; --light: #ecf0f1;
      --dark: #1a2a6c; --success: #2ecc71; --danger: #e74c3c;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',sans-serif; }
    body { background: linear-gradient(135deg, var(--dark), var(--secondary)); color: var(--light); min-height: 100vh; }
    .app { max-width: 1300px; margin: 0 auto; padding: 2rem; }
    nav { display: flex; justify-content: space-between; align-items: center; padding: 1rem 0; border-bottom: 3px solid var(--primary); gap: 1rem; }
    .logo { font-size: 2rem; background: linear-gradient(to right, var(--primary), var(--accent)); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0 2px 4px rgba(0,0,0,0.2); font-weight: bold; }
    ul { display: flex; gap: 2rem; list-style: none; align-items: center; }
    li a { color: var(--light); text-decoration: none; font-size: 1.1rem; padding: 6px 8px; border-radius: 5px; transition: background 0.2s, color 0.2s; }
    li a.active, li a:hover { background: var(--primary); color: var(--dark); }
    .auth-area { display: flex; align-items: center; gap: 1rem; }
    .user-info { font-size: 1rem; color: var(--success); margin-right: 0.5rem; }
    .btn-logout, .btn-login { background: var(--accent); color: #fff; border: none; border-radius: 5px; padding: 6px 15px; cursor: pointer; font-size: 1rem; transition: background 0.2s; }
    .btn-logout:hover, .btn-login:hover { background: var(--primary); color: var(--dark); }
    .hero { text-align: center; padding: 4rem 0 3rem 0; background: url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cdefs%3E%3Cpattern id='circuit' width='10' height='10' patternUnits='userSpaceOnUse'%3E%3Cpath d='M 0 0 L 10 10 M 0 10 L 10 0' stroke='%2300b4d8' stroke-width='0.5'/%3E%3C/pattern%3E%3C/defs%3E%3Crect width='100%25' height='100%25' fill='url(%23circuit)' /%3E%3C/svg%3E") no-repeat center center fixed; background-size: cover; }
    h1 { font-size: 3.2rem; background: linear-gradient(to right, var(--primary), var(--accent)); -webkit-background-clip: text; background-clip: text; color: transparent; text-shadow: 0 0 12px rgba(0,0,0,0.3); margin-bottom: 1rem; }
    .hero p { font-size: 1.3rem; opacity: 0.95; max-width: 700px; margin: 1rem auto; }
    .modal-bg { display: none; position: fixed; top:0; left:0; width:100vw; height:100vh; z-index: 999; background: rgba(0,0,0,0.4); justify-content: center; align-items: center; }
    .modal-bg.active { display: flex; }
    .modal { background: var(--secondary); color: var(--light); padding: 2.5rem 2rem 2rem 2rem; border-radius: 15px; min-width: 300px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); display: flex; flex-direction: column; align-items: center; gap: 1.2rem; }
    .modal input { padding: 0.7rem; border-radius: 5px; border: 1px solid var(--primary); width: 100%; font-size: 1rem; }
    .modal .btn-login-submit { background: var(--primary); color: var(--dark); font-weight: bold; border: none; padding: 0.7rem 2rem; border-radius: 5px; cursor: pointer; margin-top: 1rem; }
    .modal .btn-login-submit:hover { background: var(--accent); color: #fff; }
    .modal .error { color: var(--danger); font-size: 1rem; margin-top: -0.8rem; }
    .modules { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 2rem; padding: 2rem 0 2rem 0; }
    .module-card { background: rgba(26, 37, 48, 0.85); border-radius: 15px; padding: 2rem; box-shadow: 0 10px 30px rgba(0,0,0,0.3); transition: transform 0.3s; display: flex; flex-direction: column; align-items: center; min-height: 230px; justify-content: flex-start; }
    .module-card:hover { transform: translateY(-8px) scale(1.03); }
    .module-icon { font-size: 2.5rem; color: var(--primary); margin-bottom: 1rem; }
    .module-card .module-actions { margin-top: 1rem; display: flex; gap: 0.7rem; }
    .module-card .btn-run-ai { background: var(--primary); color: var(--dark); border: none; border-radius: 4px; padding: 6px 14px; font-size: 1rem; cursor: pointer; transition: background 0.2s; }
    .module-card .btn-run-ai:hover { background: var(--accent); color: #fff; }
    .terminal, .ai-output { background: #1a2a6c; padding: 1.2rem; margin-top: 1.1rem; border-radius: 10px; font-size: 1.1rem; min-height: 2.5em; white-space: pre-line; }
    #pricing, #contact { padding: 2rem 0 1.5rem 0; max-width: 650px; margin: 0 auto; }
    .plans { display: flex; gap: 2rem; justify-content: center; flex-wrap: wrap; margin-bottom: 2rem; }
    .plan { background: rgba(26, 37, 48, 0.85); border-radius: 13px; padding: 1.3rem 2.5rem; min-width: 200px; box-shadow: 0 5px 20px rgba(0,0,0,0.17); text-align: center; }
    .plan.premium { border: 2px solid var(--accent); }
    .plan h3 { font-size: 1.2rem; margin-bottom: 0.7rem; color: var(--accent); }
    .plan p { font-size: 1.5rem; font-weight: bold; margin-bottom: 0.7rem; color: var(--primary); }
    .plan ul { list-style: none; margin-bottom: 1.1rem; font-size: 1.05rem; color: var(--light); padding-left: 0; }
    .plan li { margin-bottom: 0.3rem; }
    .plan button { background: var(--primary); color: var(--dark); border: none; border-radius: 4px; padding: 8px 18px; font-size: 1rem; font-weight: bold; cursor: pointer; }
    .plan button:hover { background: var(--accent); color: #fff; }
    form { display: flex; flex-direction: column; gap: 1rem; }
    form input, form textarea { padding: 0.8rem; border-radius: 6px; border: 1px solid var(--primary); font-size: 1rem; background: #222e4c; color: var(--light); }
    form button { background: var(--primary); color: var(--dark); border: none; border-radius: 5px; padding: 0.7rem 2rem; font-size: 1rem; font-weight: bold; align-self: flex-end; margin-top: 0.5rem; }
    form button:hover { background: var(--accent); color: #fff; }
    footer { text-align: center; padding: 2rem 0 1rem 0; color: #b7c8d9; font-size: 1rem; margin-top: 2rem; }
    footer a { color: var(--primary); text-decoration: none; }
    @media (max-width: 900px) { .modules { grid-template-columns: 1fr 1fr; } }
    @media (max-width: 650px) { .modules { grid-template-columns: 1fr; } nav { flex-direction: column; align-items: flex-start; gap: 1.2rem;} .logo { font-size: 1.3rem; } ul { gap: 1rem; } .hero h1 { font-size: 2rem; } }
  </style>
</head>
<body>
  <div class="app">
    <nav>
      <span class="logo">AigroQuantumSaaS</span>
      <ul>
        <li><a href="#home" class="active">Home</a></li>
        <li><a href="#modules">Módulos</a></li>
        <li><a href="#pricing">Preços</a></li>
        <li><a href="#contact">Contato</a></li>
      </ul>
      <div class="auth-area">
        <span class="user-info" style="display:none;"></span>
        <button class="btn-login">Entrar</button>
        <button class="btn-logout" style="display:none;">Sair</button>
      </div>
    </nav>

    <!-- Hero -->
    <section id="home" class="hero" style="display:block;">
      <h1>Empowering Agriculture with Hybrid Quantum Software</h1>
      <p>Plataforma baseada em IA Generativa, Algoritmos Quânticos Simulados e Arquitetura Modular Adaptativa.</p>
      <img src="https://cdn.pixabay.com/photo/2017/06/10/07/18/circuit-2389986_1280.png" alt="Quantum Circuit Logo" style="width:100%; max-width:480px; margin:2rem auto; border-radius:18px;">
    </section>

    <!-- Modules -->
    <section id="modules" class="modules" style="display:none;">
      <div class="module-card">
        <i class="fas fa-calculator module-icon"></i>
        <h3>FinancialBrain</h3>
        <p>Análise financeira preditiva com IA Generativa</p>
        <div class="module-actions">
          <input type="text" class="ai-prompt" placeholder="Ex: Gerar relatório financeiro mensal" style="width:140px;">
          <button class="btn-run-ai" data-module="financial">Executar IA</button>
        </div>
        <div class="ai-output" style="display:none;"></div>
      </div>
      <div class="module-card">
        <i class="fas fa-bug module-icon"></i>
        <h3>PestControlBrain</h3>
        <p>Controle integrado de pragas rurais</p>
        <div class="module-actions">
          <input type="text" class="ai-prompt" placeholder="Ex: Prever surto de pragas" style="width:140px;">
          <button class="btn-run-ai" data-module="pest">Executar IA</button>
        </div>
        <div class="ai-output" style="display:none;"></div>
      </div>
      <div class="module-card">
        <i class="fas fa-bullhorn module-icon"></i>
        <h3>MarketingBrain</h3>
        <p>Criação automática de campanhas</p>
        <div class="module-actions">
          <input type="text" class="ai-prompt" placeholder="Ex: Ideias de campanha" style="width:140px;">
          <button class="btn-run-ai" data-module="marketing">Executar IA</button>
        </div>
        <div class="ai-output" style="display:none;"></div>
      </div>
      <div class="module-card">
        <i class="fas fa-users module-icon"></i>
        <h3>PeopleBrain</h3>
        <p>Avaliação comportamental de funcionários</p>
        <div class="module-actions">
          <input type="text" class="ai-prompt" placeholder="Ex: Analisar perfil comportamental" style="width:140px;">
          <button class="btn-run-ai" data-module="people">Executar IA</button>
        </div>
        <div class="ai-output" style="display:none;"></div>
      </div>
      <div class="module-card">
        <i class="fas fa-hammer module-icon"></i>
        <h3>Thor Integration</h3>
        <p>Ponto de integração com Thor.<br><small>(Especifique qual Thor para implementação real)</small></p>
        <div class="module-actions">
          <input type="text" class="ai-prompt" placeholder="Ex: Comando Thor" style="width:140px;">
          <button class="btn-run-ai" data-module="thor">Executar Thor</button>
        </div>
        <div class="ai-output" style="display:none;"></div>
      </div>
    </section>

    <section id="pricing" style="display:none;">
      <h2>Planos e Preços</h2>
      <div class="plans">
        <div class="plan">
          <h3>Basic</h3>
          <p>R$ 99/mês</p>
          <ul>
            <li>1 usuário</li>
            <li>5 módulos</li>
            <li>Relatórios básicos</li>
          </ul>
          <button>Assinar</button>
        </div>
        <div class="plan premium">
          <h3>Premium</h3>
          <p>R$ 299/mês</p>
          <ul>
            <li>10 usuários</li>
            <li>Todos os módulos</li>
            <li>Relatórios avançados</li>
          </ul>
          <button>Assinar</button>
        </div>
      </div>
    </section>

    <section id="contact" style="display:none;">
      <h2>Fale Conosco</h2>
      <form id="contact-form">
        <input type="text" placeholder="Nome" required>
        <input type="email" placeholder="Email" required>
        <textarea placeholder="Mensagem"></textarea>
        <button type="submit">Enviar</button>
      </form>
      <div class="ai-output" style="display:none;"></div>
    </section>

    <div class="modal-bg" id="login-modal">
      <div class="modal">
        <h2>Login</h2>
        <input type="text" id="login-username" placeholder="Usuário" autocomplete="username">
        <input type="password" id="login-password" placeholder="Senha" autocomplete="current-password">
        <button class="btn-login-submit">Entrar</button>
        <div class="error" style="display:none;"></div>
      </div>
    </div>

    <footer>
      <p>&copy; 2025 AigroNovaTech Solutions – Todos os direitos reservados.</p>
      <p><a href="https://aigronovatech.com"  target="_blank">www.aigronovatech.com</a></p>
    </footer>
  </div>
  <script>
    // SPA Routing
    const sections = {
      home: document.getElementById('home'),
      modules: document.getElementById('modules'),
      pricing: document.getElementById('pricing'),
      contact: document.getElementById('contact')
    };
    function showSection(section) {
      for(let key in sections) sections[key].style.display = 'none';
      if(sections[section]) sections[section].style.display = (section === 'home') ? 'block' : 'flex';
      if(section === 'home' || section === 'pricing' || section === 'contact') sections[section].style.display = 'block';
      if(section === 'modules') sections[section].style.display = 'grid';
    }
    document.querySelectorAll('nav a').forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault();
        const hash = link.getAttribute('href').replace('#', '');
        showSection(hash);
        document.querySelectorAll('nav a').forEach(a => a.classList.remove('active'));
        link.classList.add('active');
      });
    });
    showSection('home');

    // Login Modal Logic (integrado ao backend real)
    const loginModal = document.getElementById('login-modal');
    const btnLogin = document.querySelector('.btn-login');
    const btnLogout = document.querySelector('.btn-logout');
    const userInfo = document.querySelector('.user-info');
    let loggedUser = localStorage.getItem('agroUser') || null;

    function setAuthUI(user) {
      if (user) {
        userInfo.textContent = `Olá, ${user}`;
        userInfo.style.display = "inline-block";
        btnLogout.style.display = "inline-block";
        btnLogin.style.display = "none";
      } else {
        userInfo.textContent = "";
        userInfo.style.display = "none";
        btnLogout.style.display = "none";
        btnLogin.style.display = "inline-block";
      }
    }
    setAuthUI(loggedUser);

    btnLogin.addEventListener('click', () => {
      loginModal.classList.add('active');
      document.getElementById('login-username').focus();
    });
    btnLogout.addEventListener('click', () => {
      loggedUser = null;
      localStorage.removeItem('agroUser');
      setAuthUI(null);
    });

    document.querySelector('.btn-login-submit').addEventListener('click', async () => {
      const username = document.getElementById('login-username').value.trim();
      const password = document.getElementById('login-password').value;
      const errorDiv = loginModal.querySelector('.error');
      try {
        const res = await fetch('/api/login', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ username, password })
        });
        if (res.ok) {
          const data = await res.json();
          loggedUser = data.username;
          localStorage.setItem('agroUser', loggedUser);
          setAuthUI(loggedUser);
          loginModal.classList.remove('active');
          errorDiv.style.display = 'none';
        } else {
          const data = await res.json();
          errorDiv.textContent = data.detail || "Usuário ou senha inválidos.";
          errorDiv.style.display = 'block';
        }
      } catch {
        errorDiv.textContent = "Erro ao conectar ao servidor.";
        errorDiv.style.display = 'block';
      }
    });
    loginModal.addEventListener('mousedown', (e) => {
      if(e.target === loginModal) loginModal.classList.remove('active');
    });

    // IA/Thor - Integração real com backend FastAPI
    document.querySelectorAll('.btn-run-ai').forEach(btn => {
      btn.addEventListener('click', async () => {
        const card = btn.closest('.module-card');
        const prompt = card.querySelector('.ai-prompt').value;
        const output = card.querySelector('.ai-output');
        output.style.display = 'block';
        output.textContent = 'Processando...';
        try {
          const res = await fetch('/api/ia', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ module: btn.dataset.module, prompt })
          });
          if (res.ok) {
            const data = await res.json();
            output.textContent = data.result;
          } else {
            output.textContent = "Falha ao consultar IA/Thor.";
          }
        } catch (e) {
          output.textContent = "Erro de conexão.";
        }
      });
    });

    // Contato (simulação)
    document.getElementById('contact-form').addEventListener('submit', async (e) => {
      e.preventDefault();
      const form = e.target;
      const output = form.nextElementSibling;
      output.style.display = 'block';
      output.textContent = 'Enviando mensagem...';
      await new Promise(res => setTimeout(res, 1000));
      output.textContent = "Mensagem enviada! Responderemos em breve.";
      form.reset();
    });

    if (loggedUser) setAuthUI(loggedUser);
  </script>
</body>
</html>